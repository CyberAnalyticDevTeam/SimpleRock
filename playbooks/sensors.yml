---

- hosts: sensors
  roles:
    - common
    - sensor-common

    # Containerized_install: if true, all services are docker containers. Otherwise, services installed bare metal
    - { role: docker, when: containerized_install }

    - { role: suricata, when: with_suricata }
    - { role: kafka, when: with_kafka }
    - { role: zookeeper, when: with_zookeeper }
    - { role: filebeats, when: with_filebeats }
    - { role: bro, when: with_bro }

    # Containerized_install: if true, all services are docker containers. Otherwise, services installed bare metal
    - { role: docker, when: containerized_install }
